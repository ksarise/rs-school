var w=Object.defineProperty;var N=(n,e,t)=>e in n?w(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var o=(n,e,t)=>(N(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();class l{constructor(e){o(this,"element");this.element=this.generateElement(e)}getElement(){return this.element}appendElement(e){if(!this.element)return;let t;e instanceof l?t=e.getElement():t=e,t&&this.element.append(t)}appendChildren(e){e.forEach(t=>{this.appendElement(t)})}generateElement({tag:e,className:t,content:r,attributes:a,event:s,eventCallback:c}){const g=document.createElement(e);return this.element=g,t&&g.classList.add(t),r&&(g.textContent=r),a&&Object.keys(a).forEach(p=>{g.setAttribute(p,a[p])}),s&&c&&g.addEventListener(s,c),g}}class B{constructor(){o(this,"wrap");const e=new l({tag:"div",className:"page-wrap"});this.wrap=e.getElement()}getWrap(){return this.wrap}cleanWrap(){this.wrap.innerHTML=""}}class k{constructor(e,t){o(this,"inputField");const r=new l({tag:"input",className:e,attributes:{required:""},event:"input",eventCallback:t});this.inputField=r.getElement()}getElement(){return this.inputField}}class v{constructor(e,t){o(this,"label");const r=new l({tag:"label",className:e,content:t});this.label=r.getElement()}getLabel(){return this.label}}function d(n,e){let t="";return e>n.length?t=`Minimum ${e} letters`:/^[A-Z]/.test(n[0])?/^[A-Za-z-]+$/.test(n)?t="ok":t="Only English alphabet letters or the hyphen":t="The first letter must be uppercase",t}class h{constructor(e,t,r,a){o(this,"block");o(this,"NameLabel");o(this,"NameInput");o(this,"errorInput");const s=new l({tag:"div",className:e,nameLength:r,event:"input",eventCallback:a});this.block=s.getElement(),this.NameLabel=new v(`${e.trim()}Label`,t),this.NameInput=new k(`${e.trim()}Input`,()=>this.validateForm(this.NameInput.getElement().value,r)),this.errorInput=new l({tag:"span",className:"inputError"}).getElement(),s.appendChildren([this.NameLabel.getLabel(),this.NameInput.getElement(),this.errorInput])}getBlock(){return this.block}validateForm(e,t){d(e,t)!=="ok"?(this.block.classList.remove("valid"),this.errorInput.textContent=`${d(e,t)}`):(this.block.classList.add("valid"),this.errorInput.textContent="")}}class m{constructor(e,t,r,a){o(this,"button");const s=new l({tag:"button",className:e,content:t,attributes:r,event:"click",eventCallback:a});this.button=s.getElement()}getButton(){return this.button}}function L(n,e,t){n.preventDefault();const r={name:e,surname:t};localStorage.setItem("ksarisePuzzleSession",JSON.stringify(r)),u()}class P{constructor(){o(this,"form");o(this,"firstNameBlock");o(this,"lastNameBlock");o(this,"loginBtn");const e=new l({tag:"form",className:"loginForm"});this.form=e.getElement(),this.firstNameBlock=new h("firstName","First Name",3,()=>this.unblockButton()),this.lastNameBlock=new h("lastName","Last Name",4,()=>this.unblockButton()),this.loginBtn=new m("loginBtn","Login",{disabled:"true",type:"submit"},()=>{}),console.log(this.loginBtn),e.appendChildren([this.firstNameBlock.getBlock(),this.lastNameBlock.getBlock(),this.loginBtn.getButton()]),this.form.addEventListener("submit",t=>L(t,this.firstNameBlock.NameInput.getElement().value,this.lastNameBlock.NameInput.getElement().value))}getForm(){return this.form}unblockButton(){this.loginBtn.getButton().disabled=!(this.firstNameBlock.getBlock().classList.contains("valid")&&this.lastNameBlock.getBlock().classList.contains("valid"))}}const f=()=>{localStorage.removeItem("ksarisePuzzleSession"),u()};class b{constructor(){o(this,"head");const e=new l({tag:"header",className:"header"});this.head=e.getElement();const t=new m("logout-btn","Log Out",{type:"button"},()=>f());t.getButton().addEventListener("click",f),this.head.appendChild(t.getButton())}getHeader(){return this.head}}const y="Embark on a linguistic adventure with our captivating puzzle game, inspired by Lingualeo. Explore diverse challenges, unlock vocabulary, and master languages with every engaging twist and turn.";function I(){const n=localStorage.getItem("ksarisePuzzleSession");if(n){const e=JSON.parse(n);return`${e.name} ${e.surname}`}return"no local storage!"}const S=`Hello, ${I()} !`;class W{constructor(){o(this,"gamePage");const e=new l({tag:"div",className:"game-page"}),t=new l({tag:"h1",className:"game-title",content:"Main Game Page"});e.appendElement(t),this.gamePage=e.getElement()}getGamePage(){return this.gamePage}}const E=new m("start-btn","Start",{type:"button"},()=>{});E.getButton().addEventListener("click",()=>{i.cleanWrap();const n=new W,e=new b;i.getWrap().appendChild(e.getHeader()),i.getWrap().appendChild(n.getGamePage())});class G{constructor(){o(this,"start");const e=new l({tag:"main",className:"start-page"}),t=new l({tag:"h2",className:"start-greeting",content:S}),r=new l({tag:"p",className:"start-welcome",content:"Welcome to"}),a=new l({tag:"h1",className:"start-title",content:"RSS - Puzzle"}),s=new l({tag:"div",className:"start-description",content:y});e.appendChildren([t.getElement(),r.getElement(),a.getElement(),s.getElement(),E.getButton()]),this.start=e.getElement()}getStart(){return this.start}}const z=document.body,i=new B;z.appendChild(i.getWrap());function u(){if(i.cleanWrap(),localStorage.getItem("ksarisePuzzleSession")){i.cleanWrap();const n=new b,e=new G;i.getWrap().appendChild(n.getHeader()),i.getWrap().appendChild(e.getStart())}else{i.cleanWrap();const n=new P;i.getWrap().appendChild(n.getForm())}}u();
