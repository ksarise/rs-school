(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();class o{constructor(e){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.element=this.generateElement(e)}getElement(){return this.element}appendElement(e){if(!this.element)return;let t;e instanceof o?t=e.getElement():t=e,t&&this.element.append(t)}appendChildren(e){e.forEach(t=>{this.appendElement(t)})}generateElement({tag:e,className:t,content:i,attributes:r,event:n,eventCallback:s}){const a=document.createElement(e);return this.element=a,t&&a.classList.add(t),i&&(a.textContent=i),r&&Object.keys(r).forEach(c=>{a.setAttribute(c,r[c])}),n&&s&&a.addEventListener(n,s),a}}class p{constructor(){Object.defineProperty(this,"wrap",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=new o({tag:"div",className:"page-wrap"});this.wrap=e.getElement()}getWrap(){return this.wrap}cleanWrap(){this.wrap.innerHTML=""}}class f{constructor(e,t){Object.defineProperty(this,"inputField",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const i=new o({tag:"input",className:e,attributes:{required:""},event:"input",eventCallback:t});this.inputField=i.getElement()}getElement(){return this.inputField}}class g{constructor(e,t){Object.defineProperty(this,"label",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const i=new o({tag:"label",className:e,content:t});this.label=i.getElement()}getLabel(){return this.label}}function m(l,e){let t="";return e>l.length?t=`Minimum ${e} letters`:/^[A-Z]/.test(l[0])?/^[A-Za-z-]+$/.test(l)?t="ok":t="Only English alphabet letters or the hyphen":t="The first letter must be uppercase",t}class b{constructor(e,t,i,r){Object.defineProperty(this,"block",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"NameLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"NameInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"errorInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=new o({tag:"div",className:e,nameLength:i,event:"input",eventCallback:r});this.block=n.getElement(),this.NameLabel=new g(`${e.trim()}Label`,t),this.NameInput=new f(`${e.trim()}Input`,()=>this.validateForm(this.NameInput.getElement().value,i)),this.errorInput=new o({tag:"span"}).getElement(),n.appendChildren([this.NameLabel.getLabel(),this.NameInput.getElement(),this.errorInput])}getBlock(){return this.block}validateForm(e,t){m(e,t)!=="ok"?(this.block.classList.remove("valid"),this.errorInput.textContent=`${m(e,t)}`):(this.block.classList.add("valid"),this.errorInput.textContent="")}}class d{constructor(e,t,i,r){Object.defineProperty(this,"button",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=new o({tag:"button",className:e,content:t,attributes:i,event:"event",eventCallback:r});this.button=n.getElement()}getButton(){return this.button}}function h(l,e,t){l.preventDefault();const i={name:e,surname:t};localStorage.setItem("ksarisePuzzleSession",JSON.stringify(i))}class v{constructor(){Object.defineProperty(this,"form",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstNameBlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastNameBlock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"loginBtn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logoutBtn",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=new o({tag:"form",className:"loginForm"});this.form=e.getElement(),this.firstNameBlock=new b("firstName","First Name",3,()=>this.unblockButton()),this.lastNameBlock=new b("lastName","Last Name",4,()=>this.unblockButton()),this.loginBtn=new d("loginBtn","Login",{disabled:"true",type:"submit"},()=>{}),this.logoutBtn=new d("logoutBtn","Logout",{type:"button"},()=>{localStorage.removeItem("ksarisePuzzleSession")}),console.log(this.loginBtn),e.appendChildren([this.firstNameBlock.getBlock(),this.lastNameBlock.getBlock(),this.loginBtn.getButton(),this.logoutBtn.getButton()]),this.form.addEventListener("submit",t=>h(t,this.firstNameBlock.NameInput.getElement().value,this.lastNameBlock.NameInput.getElement().value))}getForm(){return this.form}unblockButton(){this.loginBtn.getButton().disabled=!(this.firstNameBlock.getBlock().classList.contains("valid")&&this.lastNameBlock.getBlock().classList.contains("valid"))}}const w=document.body,u=new p,B=new v;console.log(u);function y(){u.cleanWrap(),w.appendChild(u.getWrap()),u.getWrap().appendChild(B.getForm())}y();
